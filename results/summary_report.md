# Tool Call Format Experiment - Summary Report

Generated: 2026-01-16 14:41:40

## Overview

| Metric | Value |
|--------|-------|
| Total Evaluations | 1050 |
| Successful Parses | 601 |
| Failed Parses | 449 |
| Overall Parse Success Rate | 57.2% |
| Overall Tool Accuracy | 44.1% |
| Overall Parameter Accuracy | 41.0% |
| Average Latency | 1557ms |
| Min Latency | 78ms |
| Max Latency | 125837ms |

## Results by Format

| Rank | Format | Success Rate | Tool Accuracy | Param Accuracy | Avg Latency |
|------|--------|-------------|---------------|----------------|-------------|
| 1 | function_sig | 57.6% | 47.1% | 39.4% | 2406ms |
| 2 | json | 57.1% | 47.6% | 44.5% | 1514ms |
| 3 | mcp | 57.1% | 47.6% | 46.4% | 1194ms |
| 4 | unstructured | 57.1% | 45.5% | 43.6% | 1671ms |
| 5 | xml | 57.1% | 32.6% | 31.0% | 992ms |

## Results by Model

| Rank | Model | Success Rate | Tool Accuracy | Param Accuracy | Avg Latency |
|------|-------|-------------|---------------|----------------|-------------|
| 1 | kimi-k2-instruct-0905 | 100.0% | 84.0% | 79.2% | 1480ms |
| 2 | gpt-oss-120b | 100.0% | 82.3% | 74.0% | 1029ms |
| 3 | zai-glm-4.6 | 100.0% | 72.0% | 66.3% | 3768ms |
| 4 | zai-glm-4.7 | 100.0% | 69.7% | 66.8% | 1075ms |
| 5 | command-a-03-2025 | 0.7% | 0.7% | 0.7% | 775ms |
| 6 | command-a-reasoning-08-2025 | 0.0% | 0.0% | 0.0% | 0ms |
| 7 | compound | 0.0% | 0.0% | 0.0% | 436ms |

## Results by Prompt Category

| Category | Success Rate | Tool Accuracy | Param Accuracy |
|----------|-------------|---------------|----------------|
| simple | 57.1% | 52.9% | 45.4% |
| multi_tool | 57.1% | 42.6% | 41.4% |
| ambiguous | 57.1% | 49.6% | 49.6% |
| complex | 57.5% | 32.2% | 29.2% |

## Token Usage by Format

| Format | Avg Prompt Tokens | Avg Completion Tokens | Avg Total Tokens | Efficiency Ratio |
|--------|-------------------|----------------------|------------------|------------------|
| json | 1428 | 205 | 1633 | 9.0% |
| function_sig | 703 | 165 | 868 | 15.7% |
| mcp | 1513 | 226 | 1739 | 6.2% |
| xml | 1518 | 170 | 1687 | 8.8% |
| unstructured | 1486 | 218 | 1705 | 9.6% |

## Failure Analysis

### Parse Errors: 449

Sample parse errors:
- **cohere/command-a-reasoning-08-2025** (json): Exception: Missing API key: COHERE_API_KEY_1...
- **cohere/command-a-reasoning-08-2025** (json): Exception: Missing API key: COHERE_API_KEY_1...
- **cohere/command-a-reasoning-08-2025** (json): Exception: Missing API key: COHERE_API_KEY_1...
- **cohere/command-a-reasoning-08-2025** (json): Exception: Missing API key: COHERE_API_KEY_1...
- **cohere/command-a-reasoning-08-2025** (json): Exception: Missing API key: COHERE_API_KEY_1...

### Validation Errors: 49

Sample validation errors:
- **cerebras/zai-glm-4.7** (unstructured): Tool `create_report` - Unknown parameter: chart_type...
- **cerebras/zai-glm-4.7** (unstructured): Tool `configure_pipeline` - Parameter stages: expected list[dict], got str...
- **cerebras/zai-glm-4.7** (unstructured): Tool `weird_params` - Missing required parameter: kebab-case-param...
- **cerebras/zai-glm-4.7** (function_sig): Tool `want` - Unknown tool: want...
- **cerebras/zai-glm-4.7** (function_sig): Tool `query_database` - Unknown parameter: region...

### Wrong Tool Selection: 135

Sample wrong tool selections:
- **cerebras/zai-glm-4.7** (json): Expected ['get_weather', 'get_weather', 'send_email'], got ['get_weather', 'get_weather']
- **cerebras/zai-glm-4.7** (json): Expected ['search_files', 'create_chart'], got ['search_files']
- **cerebras/zai-glm-4.7** (json): Expected ['send_email'], got []
- **cerebras/zai-glm-4.7** (json): Expected ['create_chart'], got ['query_database']
- **cerebras/zai-glm-4.7** (json): Expected ['batch_process'], got []

## Visualizations

All charts are saved in `results/charts/`:

1. `success_rate_by_format.png` - Parse success rate comparison across formats
2. `success_rate_by_model.png` - Parse success rate comparison across models
3. `success_rate_format_model.png` - Grouped bar chart of success rates
4. `token_efficiency_by_format.png` - Token usage and efficiency metrics
5. `success_heatmap.png` - Format Ã— Model success rate heatmap
6. `token_distribution_by_provider.png` - Token usage by provider
7. `accuracy_by_format.png` - Tool and parameter accuracy by format

## Key Findings

1. **Best Performing Format**: function_sig with 57.6% parse success rate
2. **Worst Performing Format**: xml with 57.1% parse success rate
3. **Best Performing Model**: kimi-k2-instruct-0905 with 100.0% parse success rate
4. **Worst Performing Model**: compound with 0.0% parse success rate
5. **Most Token-Efficient Format**: function_sig with 868 avg tokens
6. **Least Token-Efficient Format**: mcp with 1739 avg tokens

---
*Generated by Tool Call Format Experiment Framework*
